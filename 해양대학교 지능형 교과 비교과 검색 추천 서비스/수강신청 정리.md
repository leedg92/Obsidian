

# 수강신청 시스템 프로시저 연결 구조

## 1. 프로시저 개요

### 1.1 로그인 프로시저
- 이름: `USP_SUKANG_LOGIN_SWIT`
- 목적: 사용자 인증 및 수강신청에 필요한 기본 정보 제공

### 1.2 예비수강신청 프로시저
- 이름: `USP_SUKANG_SIN_SWIT`
- 목적: 실제 수강신청 또는 예비수강신청 처리

### 1.3 수강신청 삭제 프로시저
- 이름: `USP_SUKANG_DEL`
- 목적: 수강신청 또는 예비수강신청 내역 삭제

## 2. 프로시저 간 연결 구조

```mermaid
graph TD
    A[로그인 프로시저] --> B[예비수강신청 프로시저]
    A --> C[수강신청 삭제 프로시저]
    B --> C
```

## 3. 프로시저 호출 순서

1. `USP_SUKANG_LOGIN_SWIT` 호출
	- 사용자 인증
	- 학생 정보 및 수강 관련 기본 정보 조회

2. `USP_SUKANG_SIN_SWIT` 호출 (예비수강신청 시)
	- 로그인 프로시저에서 받은 정보 활용
	- 예비수강신청 처리

3. `USP_SUKANG_DEL` 호출 (필요 시)
	  - 로그인 프로시저에서 받은 정보 활용
	- 예비수강신청 내역 삭제

## 4. 흐름(가안)

1. '예비수강신청장바구니 등록' 버튼 클릭시 로그인 프로시저 호출
2. 로그인 프로시저의 결과값을 변수에 저장 후 팝업창 열기
4. 예비수강신청 프로시저 호출
5. 삭제 프로시저 호출

## 상세 구조(가안)

1. \\\[AI시스템\]장바구니 화면에서 연계할 교과목을 체크
2. 로그인 프로시저를 호출 한 후 결과을 변수에 저장하고 팝업창 오픈
	- 왼쪽
	     - 1.에서 선택한 교과목의 시간표 형태(or 리스트형태)
	     - 체크박스(여러 교과목을 한번에 장바구니로 옮기때 필요 -  프로시저 루프호출이기 때문에 시스템 부하 가능성 있음)
	     - 버튼
		     - 예비수강신청하기(=장바구니 담기)
		     - (체크박스가 있을때) 전체선택
		     - (체크박스가 있을때) 전체선택 해제	       
	   - 오른쪽
		   - 예비수간신청 테이블 교과목의 시간표 형태(or 리스트형태)
		   - 체크박스(여러 교과목을 한번에 삭제할때 필요 -  프로시저 루프호출이기 때문에 시스템 부하 가능성 있음)
		   - 버튼
			   - 교과목삭제(=장바구니 삭제)
			   - (체크박스가 있을때) 전체선택
			   - (체크박스가 있을때) 전체선택 해제
1. 팝업창 왼쪽(1.에서 선택한) 항목의 교과목에서 실제 예비수강신청 장바구니(오른쪽)에 담기
	- 왼쪽의 교과목은 그대로 유지
	- alert 표시 후 각 액션마다 프로시저를  호출하기
3. (필요 시) 오른쪽(예비수강신청 장바구니)에서 교과목 삭제
	- 왼쪽의 교과목은 그대로 유지되어있기에 다시 넣을 수 있음
	- alert 표시 후 각 액션마다 프로시저를 호출하기
