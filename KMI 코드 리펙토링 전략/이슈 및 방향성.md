## 기존 계획
1. 수집 카테고리의 DB화 + 카테고리별 코드 채번
2. 카테고리별 코드를 인터페이스를 위해 각 테이블에 매핑
3. + 카테고리 별 크롤링 테이블 제공


## 이슈
1. 수집 데이터
		- 각 수집처별로 많은 카테고리로 데이터가 구분되어 있어, 모든 데이터를 코드화하여 DB에 정리하기에는 매우 복잡하고 어려운 작업임
		- 이 부분은 파이썬 스크립트로 해결 가능하긴 함
	- 추가적으로 코드화 하여도 사용하지 못할만큼 많은 데이터가 들어가있는 테이블도 다수 존재함

### 이슈 2.  Clarksons와 IHS 데이터
- Clarksons와 IHS 데이터의 경우 특히 데이터의 양이 너무 많아서, 이를 전부 코드화하여 기존 테이블에 적용하기는 좀 빡셈..
- 이 많은 데이터를 코드화해서 업데이트 쳐놓더라도, 실제 화면과 인터페이스에서 활용하기에는 크게 도움이 되지 않을 것 같아 효율성이 떨어질 것같음

## 방향

### 1. 메타데이터 테이블 생성

- 어차피 화면에 보이는 데이터면 화면에서 DW에 접근가능한 메타테이블을 제공하는게 나을듯 .. 모든 데이터 테이블의 메타데이터(테이블명, 카테고리, 시간 주기, 컬럼 정보 등)를 저장
- 접두사 접미사가 동일한점을 이용
- 화면에서는 메타데이터 테이블만 활용하여 데이터를 탐색하고 접근가능
- 이를 통해 데이터 수집 및 코드화 작업의 복잡성을 크게 줄일 수 있을듯? 
- 테이블 구조:
  ```sql
CREATE TABLE `table_metadata` (
`table_name` VARCHAR(100) NOT NULL COMMENT '데이터 테이블 이름',
`category` VARCHAR(50) NOT NULL COMMENT '데이터 카테고리',
`time_frequency` ENUM('daily', 'weekly', 'monthly', 'quarterly', 'yearly') NOT NULL COMMENT '데이터 주기',
`columns` JSON NOT NULL COMMENT '테이블의 컬럼 목록(JSON 형태)',
`columns_info` JSON NOT NULL COMMENT '테이블의 컬럼 코멘트(JSON 형태)',
PRIMARY KEY (`table_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci COMMENT='데이터 테이블 메타데이터';
  ```


### 2. 인터페이스를 위한 데이터 정제 과정 추가

- 데이터 정제과정을 마지막단에 추가하여 구조화된(코드가 입혀진) 테이블을 새로 생성하고 그걸 화면단과 인터페이스 하기
- 방식 : 
	- 수집 후 정제 프로시저 호출
	- 수집 후 파이썬에서 각 값을 매핑 후 DB insert

- 정제 전(기존 수집 테이블)

| 카테고리 1 | 카테고리 2 | 수입  | 수집날짜     |
| :----: | :----: | :-: | -------- |
|  10.2  |  32.4  | 114 | 20241127 |


- 정제 후

|         CODE          | VALUE | 수집날짜     |
| :-------------------: | :---: | -------- |
| 101000101(카테고리1의 코드)  | 10.2  | 20241127 |
| 101000102(카테고리2의 코드)  | 32.4  | 20241127 |
| 101000103(카테고리 3의 코드) |  114  | 20241127 |
|                       |       |          |
