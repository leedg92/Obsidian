# 6. 시스템 보안 설계

## 6.1. 보안 개요

본 절은 체인포털 관제시스템의 보안 요구사항 및 적용 방안을 기술함. 시스템에서 처리하는 개인정보 및 민감데이터 보호를 위한 필수 보안 체계를 구축하여 정보보호 관련 법규 준수 및 시스템 안정성을 확보함.

## 6.2. 데이터 보안 및 암호화

### • 민감데이터 비식별 처리 및 암호화 방안

|데이터 분류|대상 정보|비식별 처리 방법|암호화 적용|
|---|---|---|---|
|개인식별정보|성명, 연락처, 주소|마스킹/가명처리|AES-256 컬럼 단위 암호화|
|업무처리정보|업무 식별번호, 처리내역|부분 마스킹 처리|SHA-256 단방향 해싱|
|중요문서정보|전자문서, 계약내역|접근 시점 복호화|AES-256 + 키관리시스템|
|시스템연계정보|API키, 인증토큰|환경변수 분리관리|TLS 1.3 구간 암호화|

### • 통신 암호화 적용 현황

|연계 대상|위치/네트워크|프로토콜|보안 적용 방안|비고|
|---|---|---|---|---|
|터미널 Agent|각 터미널 IDC|HTTPS JSON|TLS 1.2 이상, API Gateway 경유|리스수/절차 수집|
|터미널 Kakao Agent|각 터미널 IDC|HTTPS JSON|TLS 1.2 이상, NGINX Reverse Proxy|대상 터미널 전달 요청|
|Allcone-api|BPA IDC|HTTPS JSON|내부 네트워크, Container 간 통신|인수도증/운송오더 보정|
|Kakao-Sender|BPA IDC|HTTPS JSON|외부 API 연계, TLS 암호화|카카오 전자인수도증 전달|
|Blockchain System|NHN Cloud|HTTPS JSON|Cloud 내부 통신, Container 보안|로그 모니터링 연계|
|AI 시스템|NHN Cloud|HTTPS JSON|Cloud 내부 통신, Container 보안|민원 처리 분류 추천|

## 6.3. 접근 제어 및 보안 운영

### • 시스템 보안 구조도

```
[External Systems]          [API Gateway]           [Internal Services]
       |                        |                         |
   HTTPS/TLS 1.3            Nginx 인증/인가          Spring Boot Security
       |                        |                         |
   API 키 검증         →   Rate Limiting    →        RBAC 권한 제어
       |                        |                         |
   IP 화이트리스트          JWT 토큰 관리            MariaDB 접근 제어
```

### • 사용자 인증 및 권한 관리

|사용자 유형|인증 방식|접근 권한|주요 보안 기능|
|---|---|---|---|
|시스템 관리자|ID/PW + OTP|전체 시스템|관리자 권한 분리, 중요 작업 이중 인증|
|업무 담당자|ID/PW + 세션|담당 업무 영역|세션 타임아웃, 동시 접속 제한|
|외부 API|API Key + JWT|연계 데이터만|IP 제한, 호출량 제한, 로그 기록|

### • 보안 로그 및 모니터링

| 로그 유형     | 수집 대상        | 보존 기간 | 모니터링 알람           |
| --------- | ------------ | ----- | ----------------- |
| 접근 로그     | 로그인, API 호출  | 3년    | 연속 실패, 비정상 시간 접근  |
| 데이터 처리 로그 | 개인정보 조회/수정   | 5년    | 대량 다운로드, 권한 외 접근  |
| 시스템 로그    | 서버 상태, DB 접근 | 1년    | 시스템 장애, 성능 임계치 초과 |
| 보안 이벤트    | 인증 실패, 권한 위반 | 3년    | 실시간 알람, 관리자 알림    |

### • 개발 및 운영 시 보안 고려사항

| 구분    | 보안 고려사항      | 적용 방안                            |
| ----- | ------------ | -------------------------------- |
| 개발 단계 | 보안 코딩 가이드 준수 | SQL Injection 방지, XSS 방지, 입력값 검증 |
| 배포 단계 | 보안 설정 점검     | 불필요 포트 차단, 기본 계정 삭제, 패치 적용       |
| 운영 단계 | 정기 보안 점검     | 취약점 스캔, 접근 권한 검토, 로그 분석          |
| 장애 대응 | 보안 사고 대응 절차  | 즉시 격리, 로그 보존, 원인 분석, 재발 방지       |