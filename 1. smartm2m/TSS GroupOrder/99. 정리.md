#### forTrucker ë¶™ì€ ì•¤ë“œí¬ì¸íŠ¸ : ìš´ì†¡ì‚¬ì›¹ -> bctrans ìš”ì²­ ë¶€

---
## **ë°˜ì¶œì… ìœ íš¨ì„± ê²€ì¦ í•¨ìˆ˜ íë¦„**

### 1. ë©”ì„œë“œë³„

### 1ï¸âƒ£ **ìš´ì†¡ì‚¬ â†’ bctrans**
```
   HTTP POST /tss/group/trucker/verify
	   â†“
   TssGroupOrderController.veriftGroupOrderByTrucker()
	   â†“
   TssGroupOrderService.verifyGroupOrderByTrucker()
```

### 2ï¸âƒ£ **bctrans â†’ í„°ë¯¸ë„ **
```
	   â†“
   requestTransOrderNoVerify()
	   â†“
   TssGroupOrderAsyncService.requestTransOrderNoVerify()
	   â†“
   apiRestTemplate.exchange(í„°ë¯¸ë„URL, POST, ê²€ì¦ë°ì´í„°)
```


### 3ï¸âƒ£ **í„°ë¯¸ë„ ì²˜ë¦¬ (ì™¸ë¶€ ë°œ)**
```
4ï¸âƒ£ í„°ë¯¸ë„ â†’ bctrans (ì½œë°±)
   HTTP POST /tss/group/invoke/verifyResult/group
	   â†“
   TssGroupOrderAlarmController.saveGroupOrderTerminalVerifyResultAsync()
	   â†“
   TssGroupOrderService.processGroupOrderTerminalVerifyResultAsync()

5ï¸âƒ£ bctrans â†’ ìš´ì†¡ì‚¬
	   â†“
   TssGroupOrderPushService.sendGroupOrderVerifyResultAlarm()
	   â†“
   webClientService.sendRequestAsync(ìš´ì†¡ì‚¬URL, POST, ê²°ê³¼ë°ì´í„°)
```


### 2. urlë³„

### 1ï¸âƒ£ **ìš´ì†¡ì‚¬ â†’ bctrans**
```
POST /tss/group/trucker/verify
Body: { dispatchGroup, conList, truckList }  // ì½œë°± URL ì—†ìŒ âŒ(ì´í›„ í„°ë¯¸ë„ì—ì„œ ì½œë°±URLë¡œ bctransì— í˜¸ì¶œ ì‹œ DBì—ì„œ ì¡°íšŒí•œ ìš´ì†¡ì‚¬ URLë¡œ ê²°ê³¼ ì „ì†¡)
```


### 2ï¸âƒ£ **bctrans â†’ í„°ë¯¸ë„**
```
POST {í„°ë¯¸ë„API}/verify
Body: { ê²€ì¦ë°ì´í„° }
```
   
### **3ï¸âƒ£ í„°ë¯¸ë„ â†’ bctrans (ê³ ì • URL)**
```
POST /tss/group/invoke/verifyResult/group  // ğŸ”’ ê³ ì •ëœ ì½œë°± URL
Body: { ê²€ì¦ê²°ê³¼ }
```
   

### 4ï¸âƒ£ **bctrans â†’ ìš´ì†¡ì‚¬ (ì‚¬ì „ ë“±ë¡ëœ URL)**
```
POST {ìš´ì†¡ì‚¬ì½œë°±URL}/group/verify/result   // ğŸ—ƒï¸ DBì—ì„œ ì¡°íšŒí•œ URL
Body: { ê²€ì¦ê²°ê³¼ }

```


---

## **ê·¸ë£¹ ì •ë³´ ìƒì„± í•¨ìˆ˜ íë¦„**

### 1. ë©”ì„œë“œë³„

### 6ï¸âƒ£ **ìš´ì†¡ì‚¬ â†’ bctrans**
```
HTTP POST /tss/group/trucker/create
   â†“
TssGroupOrderController.createShippingOrderAndGroupOrder()
   â†“
TssGroupOrderService.createGroupOrderForTrucker()
```

### 7ï¸âƒ£ **bctrans ë‚´ë¶€ ì²˜ë¦¬**
```
   â†“
assertValidate() - ìœ íš¨ì„± ê²€ì¦
   â†“
selectExistsContainer() - ì¤‘ë³µ ì²´í¬
   â†“
dispatchGroup ìë™ ìƒì„±
   â†“
bChainService.exchange("/trans/CreateCopinoWithGroup") - BC ì½”í”¼ë…¸ ìƒì„±
   â†“
createGroupOrder() â†’ saveGroupOrder() - DB ì €ì¥
   â†“
verifyGroupOrderByTrucker() - ìë™ ìœ íš¨ì„± ê²€ì¦ ì‹¤í–‰
```

### 2. urlë³„

### 6ï¸âƒ£ **ìš´ì†¡ì‚¬ â†’ bctrans**
```
POST /tss/group/trucker/create
Body: { conList, truckList }  // dispatchGroup ì—†ìŒ, bctransê°€ ìë™ ìƒì„±
```

### 7ï¸âƒ£ **bctrans â†’ BC**
```
POST {BC_URL}/trans/CreateCopinoWithGroup
Body: { info: {ìš´ì†¡ì‚¬ì •ë³´}, data: {ë°°ì°¨ê·¸ë£¹, ì»¨í…Œì´ë„ˆëª©ë¡} }
```

**ì°¸ê³ **: ê·¸ë£¹ ìƒì„± ì™„ë£Œ í›„ ìë™ìœ¼ë¡œ **ë°˜ì¶œì… ìœ íš¨ì„± ê²€ì¦ í”„ë¡œì„¸ìŠ¤(1-5ë²ˆ)**ê°€ ì‹¤í–‰ë¨